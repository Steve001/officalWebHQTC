<section class="header vivify swoopInLeft">
    <div style="cursor: pointer;">
        <img class="img-style" src="../img/logo.png" alt="" id="change">
    </div>
    <section class="header-r" id="nav">
        <li class="header-r-block current">
            <a href="../index.html">首页</a>
        </li>
        <li class="header-r-block">
            <a href="../components/product.html">产品</a>
            <div class="navbarAlert_Product">
                <div class="navbar-Product-Top">
                    <span onclick="navBarClick(0)" class="navBar-Active">全部产品</span>
                    <span onclick="navBarClick(1)">植保无人机</span>
                    <span onclick="navBarClick(2)">消防无人机</span>
                </div>
                <div class="navbar-Product-Bottom">
                    <div>
                        <img src="/img/082B2E5568CEF228452D33D47357D20A.png" alt="">
                        <span>YK6-10L</span>
                    </div>
                    <div>
                        <img src="/img/082B2E5568CEF228452D33D47357D20A.png" alt="">
                        <span>YK6-16L</span>
                    </div>
                    <div>
                        <img src="/img/082B2E5568CEF228452D33D47357D20A.png" alt="">
                        <span>YK6-22L</span>
                    </div>
                    <div>
                        <img src="/img/082B2E5568CEF228452D33D47357D20A.png" alt="">
                        <span>YK6-25L</span>
                    </div>
                </div>
            </div>
        </li>
        <li class="header-r-block">
            <a href="../components/serviceSupport.html">服务支持</a>
            <div class="navBarAlert_Service">
                <span><a href="../components/product_details.html" style="color: #000 !important;">产品技术支持</a></span>
                <span><a href="../components/after_Sale_Service.html" style="color: #000 !important;"> 售后服务政策</a></span>
                <!-- <span>保障与维修</span> -->
            </div>
        </li>
        <li class="header-r-block">
            <a href="../components/aboutUs.html">关于我们</a>
            <div class="navBarAlert_AboutUs"></div>
        </li>
        <li class="header-r-block">
            <a href="../components/distributor.html">经销商</a>
        </li>
        <div class="nav-current"></div>
    </section>

</section>

<script>
    $(function () {       // do something 
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src = "http://www.microsoftTranslator.com/ajax/v3/WidgetV3.ashx?siteData=ueOIGRSKkd965FeEGM5JtQ**";
        document.getElementsByTagName('head')[0].appendChild(script);
        var value = sessionStorage.getItem("language");
        document.onreadystatechange = function () {
            if (document.readyState == 'complete') {
                console.log(value)
                if (value === "1") {
                    Microsoft.Translator.Widget.Translate('zh-CHS', 'en', onProgress, onError, onComplete, onRestoreOriginal, 2000);
                }
            }
        }

        function onProgress(value) { }

        function onError(error) { }

        function onComplete() {
            $("#WidgetFloaterPanels").hide();
        }

        function onRestoreOriginal() { }
    });

    function translate() {
        var value = sessionStorage.getItem("language");
        if (value === "1") {
            sessionStorage.setItem("language", "0");
        } else {
            sessionStorage.setItem("language", "1");
        }
        window.location.reload(); //刷新当前页面.
    }

    $("#change").click(function () {
        translate();
    })

    var $navcur = $(".nav-current");
    var $nav = $("#nav");
    var current = ".current";
    var itemW = $nav.find('.current').innerWidth(); //默认当前位置宽度
    var defLeftW = $nav.find('.current').position().left; //默认当前位置Left值

    //添加默认下划线
    $navcur.css({
        width: itemW,
        left: defLeftW
    });

    //hover事件
    $nav.find("li").hover(function () {
        var index = $(this).index(); //获取滑过元素索引值
        var leftW = $(this).position().left; //获取滑过元素Left值
        var currentW = $nav.find("li").eq(index).innerWidth(); //获取滑过元素Width值
        $navcur.stop().animate({
            left: leftW,
            width: currentW
        }, 300);

    }, function () {
        $navcur.stop().animate({
            left: defLeftW,
            width: itemW
        }, 300)
    })

    // 主菜单点击事件
    // $('.navBarAlert_Service').on('click', function (ev) {
    //     console.log(this)

    //     let childrenDom = $(this).children()[0];
    //     console.log(childrenDom, 8888)
    //     $(childrenDom).on('click', function () {
    //         window.location.href = '../components/product_details.html'
    //     })
    //     let afterSale = $(this).children()[1];
    //     $(afterSale).on('click', function () {
    //         window.location.href = '../components/after_Sale_Service.html'
    //     })
    // })

    function navBarClick(index) {
        let dome = $('.navbar-Product-Top').children();
        console.log(dome)
        for (let i = 0; i < dome.length; i++) {
            if (i == index) {
                $(dome[i]).addClass('navBar-Active')
            } else {
                $(dome[i]).removeClass('navBar-Active')
            }
        }
    }
</script>