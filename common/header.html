<!--
 * @Author: your name
 * @Date: 2021-06-16 10:46:30
 * @LastEditTime: 2021-07-05 16:24:19
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \hqtc_pc\common\header.html
-->
<section class="header">
    <div style="cursor: pointer;">
        <img class="img-style" src="https://hqtcsz-oss.oss-cn-shenzhen.aliyuncs.com/hqtcsz_pc/logo.png" alt="" id="change">
    </div>
    <section class="header-r" id="nav">
        <li class="header-r-block current">
            <a href="/index.html" i18n="i18n.home">首页</a>
        </li>
        <li class="header-r-block">
            <a href="../components/product.html" i18n="i18n.product">产品</a>
            <div class="navbarAlert_Product">
                <div class="navbar-Product-Top">
                    <span onclick="navBarClick(0)" class="navBar-Active" i18n="i18n.alltheproducts">全部产品</span>
                    <span onclick="navBarClick(1)" i18n="i18n.plantProtectionUAV">植保无人机</span>
                    <span onclick="navBarClick(2)" i18n="i18n.firefightingdrone">消防无人机</span>
                </div>
                <div class="navbar-Product-Bottom">
                    <div onclick="window.location.href = '/components/product_details.html'">
                        <img src="https://hqtcsz-oss.oss-cn-shenzhen.aliyuncs.com/hqtcsz_pc/YK6-30.png" alt="">
                        <span>YK6-30</span>
                    </div>
                    <div onclick="window.location.href = '/components/fireBomb_details.html'">
                        <img src="https://hqtcsz-oss.oss-cn-shenzhen.aliyuncs.com/hqtcsz_pc/pochuan.png" alt="">
                        <span i18n="i18n.fireBomb_details1">高层破窗灭火弹无人机</span>
                    </div>
                    <div onclick="window.location.href = '/components/dry_Powder_Uav.html'">
                        <img src="https://hqtcsz-oss.oss-cn-shenzhen.aliyuncs.com/hqtcsz_pc/ganfen.png" alt="">
                        <span i18n="i18n.dry_Powder_Uav0">超细干粉灭火无人机</span>
                    </div>
                </div>
            </div>
        </li>
        <li class="header-r-block">
            <a href="../components/serviceSupport.html" i18n="i18n.serviceSupport">服务支持</a>
            <div class="navBarAlert_Service">
                <span><a href="/components/serviceSupport.html" style="color: #000 !important;" i18n="i18n.productsupport">产品技术支持</a></span>
                <span><a href="/components/after_Sale_Service.html" style="color: #000 !important;" i18n="i18n.after-sales"> 售后服务政策</a></span>
                <!-- <span>保障与维修</span> -->
            </div>
        </li>
        <li class="header-r-block">
            <a href="../components/aboutUs.html" i18n="i18n.themselves">关于我们</a>
            <div class="navBarAlert_AboutUs"></div>
        </li>
        <li class="header-r-block">
            <a href="../components/distributor.html" i18n="i18n.distributor">经销商</a>
        </li>
        <div class="nav-current"></div>
    </section>

</section>
<script src="/js/jquery.i18n.min.js"></script>
<script src="/js/language.js"></script>
<script>
    var $navcur = $(".nav-current");
    var $nav = $("#nav");
    var current = ".current";
    var itemW = $nav.find('.current').innerWidth(); //默认当前位置宽度
    var defLeftW = $nav.find('.current').position().left; //默认当前位置Left值

    //添加默认下划线
    $navcur.css({
        width: itemW,
        left: defLeftW
    });

    //hover事件
    $nav.find("li").hover(function() {
        var index = $(this).index(); //获取滑过元素索引值
        var leftW = $(this).position().left; //获取滑过元素Left值
        var currentW = $nav.find("li").eq(index).innerWidth(); //获取滑过元素Width值
        $navcur.stop().animate({
            left: leftW,
            width: currentW
        }, 300);

    }, function() {
        $navcur.stop().animate({
            left: defLeftW,
            width: itemW
        }, 300)
    })

    function navBarClick(index) {
        let dome = $('.navbar-Product-Top').children();
        let childrenDome = $('.navbar-Product-Bottom').children();
        for (let i = 0; i < dome.length; i++) {
            if (i == index) {
                $(dome[i]).addClass('navBar-Active')
            } else {
                $(dome[i]).removeClass('navBar-Active')
            }
        }
        console.log(index)
        console.log($('.navbar-Product-Bottom div'))
        if (index == 0) {
            $('.navbar-Product-Bottom div').show()
            return false;
        }
        if (index == 1) {
            $('.navbar-Product-Bottom div').hide()
            $(childrenDome[0]).show()
            return false;
        }
        if (index == 2) {
            $('.navbar-Product-Bottom div').hide()
            $(childrenDome[1]).show() 
            $(childrenDome[2]).show()
            return false;
        }

    }
</script>