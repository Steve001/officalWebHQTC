<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/public.css" />
    <link rel="stylesheet" href="../css/distributor.css">
    <link rel="stylesheet" href="../css/vivify.min.css" />
    <link rel="stylesheet" href="../js/DropDown/DropDown.css" />
    <script type="text/javascript" src="../js/public.js"></script>
    <title>经销商</title>
</head>

<body>
    <section class="header"></section>
    <section class="banner">
        <img src="https://hqtcsz-oss.oss-cn-shenzhen.aliyuncs.com/hqtcsz_pc/become-dealar-pc.png" alt="">
        <section class="banner-text">
            <h1>成为经销商合作伙伴</h1>
            <p>在公司现有产品的基础上，我们支持各类定制化客制化需求，在公司强大的研发实力加持下，我们能够提供极其专业的方案定制。</p>
        </section>
    </section>
    <section class="contain">
        <section class="contain-form">
            <form method="post" target="targetIfr">
                <section class="clas">
                    <p>申请合作类型</p>
                    <select name="cooperation_type" id="cooperation_type" class="selected">
                        <option disabled selected>选择合作类型</option>
                        <option value="项目合作">项目合作</option>
                        <option value="经销合作">经销合作</option>
                    </select>
                </section>
                <section class="clas">
                    <p>申请合作产品类型</p>
                    <div class="form_item">
                        <select class="form_select" data-mode="multiple" data-type="select" data-tips="选择合作产品类型" data-name="iptname" data-id="select1_input" data-disable="false" data-class="select1" data-hide="5">
                        <option value="消防无人机">消防无人机</option>
                        <option value="植保无人机">植保无人机</option>
                        <option value="行业定制无人机">行业定制无人机</option>
                    </select>
                    </div>
                    <section class="input-confirm">
                        <p>申请人信息</p>
                        <input class="input_style" type="text" id="username" name="username" placeholder="*姓名">
                        <input class="input_style" type="text" id="mobile" name="mobile" placeholder="*手机号">
                        <input class="input_style" type="text" id="email" name="email" placeholder="*邮箱">
                    </section>
                </section>
            </form>
            <section class="input-s">
                <input type="button" onclick="autoSubmit()" class="submit" value="提交">
            </section>

        </section>
        <section class="tips">
            <section class="tip-l">
                <h1>400-200-3030</h1>
                <p>周一至周五</p>
                <p>9:00-12:00&nbsp;&nbsp;14:00-18:00</p>
            </section>
            <section class="tip-r">
                <img src="https://hqtcsz-oss.oss-cn-shenzhen.aliyuncs.com/hqtcsz_pc/bdsq-contact-icon-pc.png" alt="">
            </section>
        </section>
    </section>
    </section>
    <section class="footer"></section>
</body>
<script type="text/javascript" src="https://vncdn.mobi88.cn/public/jquery-2.1.3.min.js"></script>
<script type="text/javascript" src="../js/md5.js"></script>
<script src="../js/DropDown/DropDown.js"></script>
<script src="../js/utils.js"></script>
<script type="text/javascript">
    let select1Value = '';
    $(function() {
        $(".header").load("../common/header.html");
        $(".footer").load("../common/fooder.html");
        // 动态加载插件
        $('.form_select').each(function(idx, el) {
            $(this).DropDown();
        })
    });

    $(document).on('select:select1', function(e, v) {
        console.log('下拉多选值：' + v)
        select1Value = v;
    });

    $(".tip-r").click(function() {
        if ($(".tip-l").css("display") == "none") {
            $(".tip-l").show();
        } else {
            $(".tip-l").hide();
        }
    });

    function isPoneAvailable(telephone) {
        var myreg = /^[1][3,4,5,7,8][0-9]{9}$/;
        if (!myreg.test(telephone)) {
            console.log(telephone)
            return false;
        } else {
            return true;
        }
    };

    function isEMail(v) {
        var reg = /^\w+((.\w+)|(-\w+))@[A-Za-z0-9]+((.|-)[A-Za-z0-9]+).[A-Za-z0-9]+$/; //正则表达式
        if (!reg.test(v)) { //正则验证不通过，格式不对
            return false;
        } else {
            return true;
        }
    }

    function autoSubmit() {
        var nvc_cooperation_type = document.getElementById(`cooperation_type`).value;
        var nvc_cooperative_products = select1Value;
        var nvc_user_name = document.getElementById(`username`).value;
        var nvc_mobile = document.getElementById(`mobile`).value;
        var nvc_email = document.getElementById(`email`).value;
        if (nvc_user_name == '' || !nvc_user_name) {
            alert('请输入姓名')
            return false;
        }
        if (!isPoneAvailable(nvc_mobile)) {
            alert('请输入正确的手机号')
            return false;
        }
        if (!isEMail(nvc_email)) {
            alert('请输入正确的邮箱号')
            return false;
        }
        // http://localhost:1337/api/user/addUser
        $.post(`http://39.103.133.174:1337/api/user/addUser`, {
            username: nvc_user_name,
            mobile: nvc_mobile,
            email: nvc_email,
            cooperation_type: nvc_cooperation_type != '选择合作类型' ? nvc_cooperation_type : null,
            cooperative_products: nvc_cooperative_products != '' ? nvc_cooperative_products : null,
            type: 1, // 1线上---0线下
            get_time: parseTime(new Date()), //当前时间

        }, function(data) {
            console.log(data)
            if (data.code == 200) {
                alert(data.message)
                window.location.href = '../index.html'
            }
        });
    }
</script>

</html>