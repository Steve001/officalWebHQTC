<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Demo1</title>
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/public.css">
    <script src="../js/TweenMax.min.js"></script>
    <script src="../js/TimelineMax.min.js"></script>
    <script src="../js/ScrollMagic.min.js"></script>
    <script src="../js/animation.gsap.min.js"></script>
    <script src="../js/debug.addIndicators.min.js"></script>
    <link rel="stylesheet" href="../css/ScrollMagic.css">
</head>

<body>
    <div class="hh">
        <div class="market"></div>
        <div class="fvh section2">
            <div class="texts-wrap">
                <div><img src="../images/0.jpg" alt=""></div>
                <div><img src="../images/1.jpg" alt=""></div>
                <div><img src="../images/2.jpg" alt=""></div>
                <div><img src="../images/3.jpg" alt=""></div>
                <div><img src="../images/4.jpg" alt=""></div>
                <div><img src="../images/5.jpg" alt=""></div>
                <div><img src="../images/6.jpg" alt=""></div>
                <div><img src="../images/7.jpg" alt=""></div>
                <div><img src="../images/8.jpg" alt=""></div>
                <div><img src="../images/10.jpg" alt=""></div>
                <div><img src="../images/11.jpg" alt=""></div>
                <div><img src="../images/12.jpg" alt=""></div>
                <div><img src="../images/13.jpg" alt=""></div>
                <div><img src="../images/14.jpg" alt=""></div>
                <div><img src="../images/15.jpg" alt=""></div>
                <div><img src="../images/16.jpg" alt=""></div>
                <div><img src="../images/17.jpg" alt=""></div>
                <div><img src="../images/18.jpg" alt=""></div>
                <div><img src="../images/19.jpg" alt=""></div>
                <div><img src="../images/20.jpg" alt=""></div>

            </div>
        </div>
        <div class="fvh section3"></div>
        <div class="fvh section4"></div>
        <div class="fvh section5"></div>
        <div class="fvh section6"></div>
        <div class="fvh section7"></div>
        <div class="fvh section8"></div>
        <div class="fvh section9"></div>
        <div class="fvh section10"></div>
    </div>
    <script>
        var controller = new ScrollMagic.Controller();
        var sense1Duration = 900
        var sense2 = new ScrollMagic.Scene({
                triggerElement: '.section2',
                triggerHook: 0,
                duration: (sense1Duration - 100) + '%'
            })
            .setPin('.section2', {
                pushFollowers: false
            })

            .addTo(controller)

        ! function() {
            var items = document.querySelector('.section2 .texts-wrap').children;
            items = Array.from(items)

            new TimelineMax().set(items.slice(1), {
                yPercent: 1,
                autoAlpha: 0
            })

            var itemsTimeline = new TimelineMax()

            items.forEach((v, i) => {
                console.log(i)
                itemsTimeline
                    .to(v, 0.9, {
                        yPercent: 1,
                        autoAlpha: 1,
                        ease: Power4.easeOut
                    })
                    .to(v, 1, {})

                if (i !== items.length - 1) {
                    itemsTimeline.to(v, 1 / 2, {
                        yPercent: 1,
                        autoAlpha: 1,
                        ease: Power2.easeInOut
                    })
                }


                var sense2Content = new ScrollMagic.Scene({
                        triggerElement: '.section2',
                        triggerHook: 0,
                        duration: (sense1Duration - 100) + '%'
                    })
                    .setTween(itemsTimeline)

                    .addTo(controller)
            })
        }()
    </script>

</body>

</html>